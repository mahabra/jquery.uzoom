!function($){var $=$,_debug=!0,Zoom=function(plugin){var that=this;this.plugin=plugin,this.scope={width:null,height:null,ready:!1,pX:0,pY:0},this.portCss=$.extend({width:$(plugin.wraps.image).outerWidth(),height:$(plugin.wraps.image).outerHeight(),display:"inline-block"},{overflow:"hidden",position:"relative",cursor:plugin.options.hideCursor?"none":plugin.options.cursor}),this.portCss["background-image"]="url("+plugin.scope.smallUrl+")",this.portCss["background-size"]=this.portCss.width+"px "+this.portCss.height+"px ",this.node=$(plugin.wraps.image).and($("<div />",{"class":"ultimate-zoom-screen"})).bind("mouseover",function(){plugin.scope.screenMouseOver=!0}).bind("mouseleave",function(){plugin.scope.screenMouseOver=!1,plugin.destroyZoom()}).bind("mousemove",function(e){that.move(e)}).css(this.portCss).tie(function(){that.image=$(this).put($("<img />")).css({position:"absolute",width:"auto",opacity:0}).tie(function(){var node=$(this)[0];node.onload=function(){that.scope.width=node.width,that.scope.height=node.height,that.scope.ready=!0,that.present()}}).attr("src",that.plugin.scope.bigUrl)}),$(plugin.wraps.image).hide(),this.move=function(e){if(void 0==e.offsetX||void 0==e.offsetY||e.currentTarget!=e.target)var offset=$(that.node).offset(),offsetX=e.pageX-offset.left,offsetY=e.pageY-offset.top;else var offsetX=e.offsetX,offsetY=e.offsetY;this.scope.pX=offsetX/this.portCss.width,this.scope.pY=offsetY/this.portCss.height,this.moveZoom(this.scope.pX,this.scope.pY)},this.moveZoom=function(pX,pY){if(this.scope.ready){var left=(this.scope.width-this.portCss.width)*pX*-1+"px",top=(this.scope.height-this.portCss.height)*pY*-1+"px";this.plugin.debug("screen",this.scope.pX,this.scope.pY,left,top),$(this.image)[0].style.left=left,$(this.image)[0].style.top=top}},this.present=function(){$(this.image).animate({opacity:1},that.plugin.options.fadeDuration)},this.remove=function(){$(this.node).remove(),$(plugin.wraps.image).show()}},ultimateZoom=function(el,options){this.el=el,this.options=$.extend({fadeDuration:250,hideCursor:!1,cursor:"default"},options),this.wraps={image:null,a:null,zoom:null},this.objects={zoom:null},this.scope={smallUrl:"",bigUrl:!1,screenMouseOver:!1},this.founds=function(){if("img"!=$(el)[0].tagName.toLowerCase()){this.wraps.image=$(el).find("img:eq(0)"),this.wraps.a=$(el);var mode="aimage"}else{this.wraps.image=el;var mode="pimage"}if(!$(this.wraps.image).is("img"))return this.error("Image tag not found","(Target element or child) is not <IMG /> element","Expects <IMG /> tag, "+$(this.wraps.image)[0].tagName+" found."),!1;switch(mode){case"aimage":if($(el).click(function(){return!1}),this.scope.bigUrl=$(el).attr("href"),""==this.scope.bigUrl)return this.error("Tag <a /> has no href","Required [href] attribute of <A /> element. Empty found."),!1;this.scope.smallUrl=$(this.wraps.image).attr("src");break;case"pimage":if(this.scope.bigUrl=$(el).data("origin"),""==this.scope.bigUrl)return this.error("Target tag <img /> has no [data-origin] or empty","Required [data-origin] attribute of <IMG /> element. Null found."),!1}return this.debug("wraps",this.wraps),""==this.scope.smallUrl?(this.debug("Tag <img /> has no src","Required [src] attribute of <IMG /> element. Empty found."),!1):void 0},this.binds=function(){var plugin=this;$(el).bind("mouseenter",function(){plugin.buildZoom()}),$(el).bind("mouseleave",function(){plugin.destroyZoom()})},this.buildZoom=function(){this.objects.zoom=new Zoom(this)},this.destroyZoom=function(){this.objects.zoom.remove()},this.debug=function(){_debug&&("function"==typeof console.group&&console.group("ultimateZoom jQuery Plugin:"),"function"==console.log.apply&&console.log.apply(console,arguments),"function"==typeof console.group&&console.groupEnd())},this.error=function(){_debug&&("function"==typeof console.group&&console.group("ultimateZoom jQuery Plugin:"),"function"==console.error.apply&&console.error.apply(console,arguments),"function"==typeof console.group&&console.groupEnd())},this.founds(),this.binds()};$.fn.ultimateZoom=$.fn.uZoom=function(options){var options=options||{};return $(this).each(function(){new ultimateZoom(this,options)})}}(jQuery);
//# sourceMappingURL=jquery.uzoom.min.js.map